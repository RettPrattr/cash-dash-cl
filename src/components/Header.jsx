import useWindowDimensions from './hooks/useWindowDimensions'
import { React, useState, useEffect } from 'react'
import Image from 'next/image'
import Button from '../components/atoms/Button'
import findImageUrl from './utils/findImageUrl'
import { motion, useViewportScroll, useTransform } from "framer-motion";

import Link from 'next/link'


export default function Header (props) {



    // const { layoutLinks, Header } = props.data

    // const { headerButton, headerText, logo, type } = Header

    const [width] = useWindowDimensions()

    // const scrollDirection = useScrollDirection();
  
    const { scrollY } = useViewportScroll();
    const top = useTransform(scrollY, [0, 100], [0, -30]);

    const [hidden, setHidden] = useState(false);
    const [toggleBurger, setToggleBurger] = useState(false)
  
    function update() {
      if (scrollY?.current < scrollY?.prev) {
        setHidden(false);
      } else if (scrollY?.current > 600 && scrollY?.current > scrollY?.prev) {
        setHidden(true);
      }
    }



    useEffect(() => {
      return scrollY.onChange(() => update());
    });

    function scrollToContacts() {
      document.getElementById(`contacts`).scrollIntoView({ behavior: 'smooth', block: 'start' });
      width > 800 ? window.scrollBy(0, -60) : window.scrollBy(0, 0);
      // window.scrollTo({top: contacts, behavior: 'smooth'});
    }
  
    
      const variants = {
        visible: { y: 0 },
        hidden: { y: -105 }
      };
      const variantsMobile = {
        visible: { y: 0 },
        hidden: { y: -43 }
      };


      const balance = '800.00'
    
    
 
      return (
        <motion.section 
          className={'header flex flex-row justify-between items-center'}
          // variants={variants}
          // animate={hidden ? "hidden" : "visible"}
          // style={{ top }}
        >
            <Link className="logo" href="">
              <svg width="73" height="31" viewBox="0 0 73 31" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M13.9185 23.4846C13.9185 27.2364 10.8771 30.2779 7.12527 30.2779C3.37347 30.2779 0.332031 27.2364 0.332031 23.4846C0.332031 19.7328 3.37347 16.6914 7.12527 16.6914C10.8771 16.6914 13.9185 19.7328 13.9185 23.4846Z" fill="white"/>
                <path d="M7.08004 14.078C5.75296 14.078 4.54901 13.7838 3.46819 13.1955C2.38737 12.6073 1.53914 11.7795 0.923483 10.7124C0.307828 9.64527 0 8.4208 0 7.03899C0 5.65719 0.307828 4.43272 0.923483 3.36558C1.53914 2.29845 2.38737 1.47073 3.46819 0.882439C4.54901 0.294146 5.75296 0 7.08004 0C8.25662 0 9.32376 0.22574 10.2814 0.67722C11.2391 1.1287 12.0326 1.76488 12.662 2.58575C13.305 3.39294 13.7428 4.33011 13.9754 5.39724H10.9792C10.6645 4.54901 10.172 3.87179 9.50161 3.36558C8.84492 2.85938 8.03772 2.60627 7.08004 2.60627C6.24548 2.60627 5.50669 2.79781 4.86368 3.18089C4.22066 3.56396 3.72129 4.09069 3.36558 4.76107C3.00987 5.43145 2.83201 6.19076 2.83201 7.03899C2.83201 7.88723 3.00987 8.64654 3.36558 9.31692C3.72129 9.9873 4.22066 10.514 4.86368 10.8971C5.50669 11.2802 6.24548 11.4717 7.08004 11.4717C8.03772 11.4717 8.84492 11.2186 9.50161 10.7124C10.172 10.2062 10.6645 9.52898 10.9792 8.68074H13.9754C13.7428 9.74788 13.305 10.6919 12.662 11.5128C12.0326 12.3199 11.2391 12.9493 10.2814 13.4008C9.32376 13.8522 8.25662 14.078 7.08004 14.078Z" fill="white"/>
                <path d="M23.6974 0.266784L29.2794 13.8112H26.2421L25.0929 10.9792H18.9979L17.8487 13.8112H14.8115L20.3934 0.266784H23.6974ZM24.1079 8.59865L22.0762 3.61184H21.9941L19.9625 8.59865H24.1079Z" fill="white"/>
                <path d="M37.0033 14.078C32.7895 14.078 30.5321 12.5252 30.2311 9.41953H33.1862C33.5283 10.8834 34.8006 11.6154 37.0033 11.6154C37.8242 11.6154 38.5219 11.4786 39.0965 11.2049C39.6711 10.9176 39.9584 10.5072 39.9584 9.97362C39.9584 9.59054 39.8011 9.28956 39.4864 9.07066C39.1854 8.83808 38.7955 8.66706 38.3167 8.55761C37.8515 8.43448 37.2085 8.31135 36.3876 8.18822C35.1837 7.99668 34.1986 7.79146 33.4325 7.57256C32.68 7.35366 32.0302 6.97743 31.4829 6.44386C30.9493 5.89661 30.6826 5.1373 30.6826 4.16594C30.6826 2.56523 31.2503 1.47073 32.3859 0.882439C33.5214 0.294146 34.8211 0 36.285 0C38.0362 0 39.4454 0.355712 40.5125 1.06714C41.5933 1.76488 42.2158 2.85938 42.38 4.35063H39.4043C39.2949 3.73498 38.9597 3.26981 38.3988 2.95515C37.8378 2.6268 37.1333 2.46262 36.285 2.46262C35.4915 2.46262 34.8348 2.59259 34.3149 2.85254C33.795 3.0988 33.5351 3.48187 33.5351 4.00176C33.5351 4.35747 33.6787 4.64478 33.9661 4.86368C34.267 5.0689 34.6433 5.22623 35.0948 5.33568C35.5599 5.44513 36.1893 5.56142 36.9828 5.68455C38.2004 5.88977 39.1923 6.10867 39.9584 6.34125C40.7246 6.56015 41.3881 6.95007 41.9491 7.511C42.5237 8.07193 42.811 8.84492 42.811 9.82997C42.811 11.3623 42.2432 12.4568 41.1077 13.1135C39.9858 13.7565 38.6177 14.078 37.0033 14.078Z" fill="white"/>
                <path d="M48.219 0.266784V5.52038H54.8886V0.266784H57.7411V13.8112H54.8886V8.12665H48.219V13.8112H45.3664V0.266784H48.219Z" fill="white"/>
                <path d="M22.048 16.8283C23.3751 16.8283 24.5654 17.1019 25.6188 17.6492C26.6723 18.1964 27.4932 18.9831 28.0815 20.0092C28.6834 21.0216 28.9844 22.2187 28.9844 23.6005C28.9844 24.9823 28.6834 26.1863 28.0815 27.2124C27.4932 28.2248 26.6723 29.0046 25.6188 29.5519C24.5654 30.0991 23.3751 30.3727 22.048 30.3727H16.0762V16.8283H22.048ZM22.048 27.8075C23.2793 27.8075 24.2644 27.4381 25.0032 26.6993C25.7556 25.9605 26.1319 24.9276 26.1319 23.6005C26.1319 22.2734 25.7556 21.2405 25.0032 20.5017C24.2644 19.7629 23.2793 19.3935 22.048 19.3935H18.9287V27.8075H22.048Z" fill="white"/>
                <path d="M38.8779 16.8283L44.4598 30.3727H41.4226L40.2733 27.5407H34.1784L33.0291 30.3727H29.9919L35.5738 16.8283H38.8779ZM39.2883 25.1602L37.2566 20.1734H37.1746L35.1429 25.1602H39.2883Z" fill="white"/>
                <path d="M52.1837 30.6395C47.9699 30.6395 45.7125 29.0867 45.4115 25.9811H48.3666C48.7087 27.4449 49.981 28.1769 52.1837 28.1769C53.0046 28.1769 53.7023 28.0401 54.2769 27.7665C54.8516 27.4791 55.1389 27.0687 55.1389 26.5351C55.1389 26.1521 54.9815 25.8511 54.6669 25.6322C54.3659 25.3996 53.976 25.2286 53.4971 25.1191C53.032 24.996 52.3889 24.8729 51.5681 24.7497C50.3641 24.5582 49.3791 24.353 48.6129 24.1341C47.8604 23.9152 47.2106 23.539 46.6633 23.0054C46.1298 22.4581 45.863 21.6988 45.863 20.7275C45.863 19.1268 46.4308 18.0323 47.5663 17.444C48.7018 16.8557 50.0016 16.5615 51.4655 16.5615C53.2166 16.5615 54.6258 16.9172 55.693 17.6287C56.7738 18.3264 57.3963 19.4209 57.5604 20.9122H54.5848C54.4753 20.2965 54.1401 19.8313 53.5792 19.5167C53.0183 19.1883 52.3137 19.0241 51.4655 19.0241C50.6719 19.0241 50.0152 19.1541 49.4954 19.4141C48.9755 19.6603 48.7155 20.0434 48.7155 20.5633C48.7155 20.919 48.8592 21.2063 49.1465 21.4252C49.4475 21.6304 49.8237 21.7878 50.2752 21.8972C50.7403 22.0067 51.3697 22.1229 52.1632 22.2461C53.3808 22.4513 54.3727 22.6702 55.1389 22.9028C55.905 23.1217 56.5686 23.5116 57.1295 24.0725C57.7041 24.6334 57.9914 25.4064 57.9914 26.3915C57.9914 27.9238 57.4236 29.0183 56.2881 29.675C55.1662 30.318 53.7981 30.6395 52.1837 30.6395Z" fill="white"/>
                <path d="M63.3994 16.8283V22.0819H70.069V16.8283H72.9215V30.3727H70.069V24.6882H63.3994V30.3727H60.5468V16.8283H63.3994Z" fill="white"/>
              </svg>
          </Link>
          <div className="balance pxs relative flex flex-row justify-center items-center">
             <p className='mb0'>$  {balance}</p>
            <Link href="/balance" className="replenishmentBtn">
              <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g filter="url(#filter0_d_142_489)">
                <circle cx="20" cy="16" r="10" fill="url(#paint0_linear_142_489)"/>
                <path d="M19.15 14.974V12.3H20.802V14.974H23.476V16.626H20.802V19.3H19.15V16.626H16.476V14.974H19.15Z" fill="#2D5209"/>
                </g>
                <defs>
                <filter id="filter0_d_142_489" x="0" y="0" width="40" height="40" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                <feOffset dy="4"/>
                <feGaussianBlur stdDeviation="5"/>
                <feComposite in2="hardAlpha" operator="out"/>
                <feColorMatrix type="matrix" values="0 0 0 0 0.529412 0 0 0 0 0.87451 0 0 0 0 0.184314 0 0 0 0.6 0"/>
                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_142_489"/>
                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_142_489" result="shape"/>
                </filter>
                <linearGradient id="paint0_linear_142_489" x1="16.5" y1="6.5" x2="37" y2="29" gradientUnits="userSpaceOnUse">
                <stop stop-color="#95F13A"/>
                <stop offset="1" stop-color="#72C61E"/>
                </linearGradient>
                </defs>
              </svg>
            </Link>
          </div>
          <Link href="/profile" className="profileIcon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0_142_441)">
              <path d="M12 11C12.7911 11 13.5645 10.7654 14.2223 10.3259C14.8801 9.88635 15.3928 9.26164 15.6955 8.53074C15.9983 7.79983 16.0775 6.99556 15.9231 6.21964C15.7688 5.44372 15.3878 4.73098 14.8284 4.17157C14.269 3.61216 13.5563 3.2312 12.7804 3.07686C12.0044 2.92252 11.2002 3.00173 10.4693 3.30448C9.73836 3.60723 9.11365 4.11992 8.67412 4.77772C8.2346 5.43552 8 6.20888 8 7C8 8.06087 8.42143 9.07828 9.17157 9.82843C9.92172 10.5786 10.9391 11 12 11Z" fill="white"/>
              <path d="M18 21C18.2652 21 18.5196 20.8946 18.7071 20.7071C18.8946 20.5196 19 20.2652 19 20C19 18.1435 18.2625 16.363 16.9497 15.0503C15.637 13.7375 13.8565 13 12 13C10.1435 13 8.36301 13.7375 7.05025 15.0503C5.7375 16.363 5 18.1435 5 20C5 20.2652 5.10536 20.5196 5.29289 20.7071C5.48043 20.8946 5.73478 21 6 21H18Z" fill="white"/>
              </g>
              <defs>
              <clipPath id="clip0_142_441">
              <rect width="24" height="24" fill="white"/>
              </clipPath>
              </defs>
            </svg>
          </Link>
        </motion.section>
      );
}